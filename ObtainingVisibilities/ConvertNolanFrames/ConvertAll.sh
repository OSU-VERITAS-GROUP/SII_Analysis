#!/bin/bash

source ../anaconda3/bin/activate
conda activate my_root_env

###  Run this command to get all of the directories for index_array
###ls -1 */*/*/*.txt | awk -F /c '{print $1 "/"}'     //index_array
###ls -1 */*/*/*.txt | awk -F / '{print $4}'          //file_array

index_array=(
UTC20211217/m12d16h23/T1T2/
UTC20211217/m12d16h23/T1T3/
UTC20211217/m12d16h23/T1T4/
UTC20211217/m12d16h23/T2T3/
UTC20211217/m12d16h23/T2T4/
UTC20211217/m12d16h23/T3T4/
UTC20211217/m12d17h01/T1T2/
UTC20211217/m12d17h01/T1T3/
UTC20211217/m12d17h01/T1T4/
UTC20211217/m12d17h01/T2T3/
UTC20211217/m12d17h01/T2T4/
UTC20211217/m12d17h01/T3T4/
UTC20211217/m12d17h03/T1T2/
UTC20211217/m12d17h03/T1T3/
UTC20211217/m12d17h03/T1T4/
UTC20211217/m12d17h03/T2T3/
UTC20211217/m12d17h03/T2T4/
UTC20211217/m12d17h03/T3T4/
UTC20211217/m12d17h05/T1T2/
UTC20211217/m12d17h05/T1T3/
UTC20211217/m12d17h05/T1T4/
UTC20211217/m12d17h05/T2T3/
UTC20211217/m12d17h05/T2T4/
UTC20211217/m12d17h05/T3T4/
UTC20220212/m02d11h19/T1T2/
UTC20220212/m02d11h19/T1T3/
UTC20220212/m02d11h19/T1T4/
UTC20220212/m02d11h19/T2T4/
UTC20220212/m02d11h19/T3T4/
UTC20220212/m02d11h20/T1T2/
UTC20220212/m02d11h20/T1T3/
UTC20220212/m02d11h20/T1T4/
UTC20220212/m02d11h20/T2T4/
UTC20220212/m02d11h20/T3T4/
UTC20220212/m02d11h23/T1T2/
UTC20220212/m02d11h23/T1T3/
UTC20220212/m02d11h23/T1T4/
UTC20220212/m02d11h23/T2T4/
UTC20220212/m02d11h23/T3T4/
UTC20220212/m02d12h01/T1T2/
UTC20220212/m02d12h01/T1T3/
UTC20220212/m02d12h01/T1T4/
UTC20220212/m02d12h01/T2T4/
UTC20220212/m02d12h01/T3T4/
UTC20220212/m02d12h03/T1T2/
UTC20220212/m02d12h03/T1T3/
UTC20220212/m02d12h03/T1T4/
UTC20220212/m02d12h03/T2T4/
UTC20220212/m02d12h03/T3T4/
UTC20220214/m02d13h19/T1T2/
UTC20220214/m02d13h19/T1T3/
UTC20220214/m02d13h19/T1T4/
UTC20220214/m02d13h19/T2T4/
UTC20220214/m02d13h19/T3T4/
UTC20220214/m02d13h21/T1T2/
UTC20220214/m02d13h21/T1T3/
UTC20220214/m02d13h21/T1T4/
UTC20220214/m02d13h21/T2T4/
UTC20220214/m02d13h21/T3T4/
UTC20220214/m02d13h23/T1T2/
UTC20220214/m02d13h23/T1T3/
UTC20220214/m02d13h23/T1T4/
UTC20220214/m02d13h23/T2T4/
UTC20220214/m02d13h23/T3T4/
UTC20220214/m02d14h01/T1T2/
UTC20220214/m02d14h01/T1T3/
UTC20220214/m02d14h01/T1T4/
UTC20220214/m02d14h01/T2T4/
UTC20220214/m02d14h01/T3T4/
UTC20220214/m02d14h03/T1T2/
UTC20220214/m02d14h03/T1T3/
UTC20220214/m02d14h03/T1T4/
UTC20220214/m02d14h03/T2T4/
UTC20220214/m02d14h03/T3T4/
UTC20220313/m03d12h22/T1T2/
UTC20220313/m03d12h22/T1T3/
UTC20220313/m03d12h22/T1T4/
UTC20220313/m03d12h22/T2T3/
UTC20220313/m03d12h22/T2T4/
UTC20220313/m03d12h22/T3T4/
UTC20220313/m03d13h01/T1T2/
UTC20220313/m03d13h01/T1T3/
UTC20220313/m03d13h01/T1T4/
UTC20220313/m03d13h01/T2T3/
UTC20220313/m03d13h01/T2T4/
UTC20220313/m03d13h01/T3T4/
UTC20220511/m05d10h21/T1T2/
UTC20220511/m05d10h21/T1T3/
UTC20220511/m05d10h21/T1T4/
UTC20220511/m05d10h21/T2T3/)

file_array=(
corrOut_T1T2_y2021m12d16h23m02s26_p23samp.txt
corrOut_T1T3_y2021m12d16h23m02s28_m16samp.txt
corrOut_T1T4_y2021m12d16h23m02s30_m9samp.txt
corrOut_T2T3_y2021m12d16h23m02s28_m39samp.txt
corrOut_T2T4_y2021m12d16h23m02s30_m31samp.txt
corrOut_T4T3_y2021m12d16h23m02s30_m8samp.txt
corrOut_T1T2_y2021m12d17h01m07s23_p21samp.txt
corrOut_T1T3_y2021m12d17h01m07s25_m15samp.txt
corrOut_T1T4_y2021m12d17h01m07s27_m9samp.txt
corrOut_T2T3_y2021m12d17h01m07s25_m36samp.txt
corrOut_T2T4_y2021m12d17h01m07s27_m30samp.txt
corrOut_T4T3_y2021m12d17h01m07s27_m6samp.txt
corrOut_T1T2_y2021m12d17h03m09s29_p17samp.txt
corrOut_T1T3_y2021m12d17h03m09s32_m17samp.txt
corrOut_T1T4_y2021m12d17h03m09s36_m15samp.txt
corrOut_T2T3_y2021m12d17h03m09s32_m34samp.txt
corrOut_T2T4_y2021m12d17h03m09s36_m32samp.txt
corrOut_T4T3_y2021m12d17h03m09s36_m2samp.txt
corrOut_T1T2_y2021m12d17h05m11s42_p11samp.txt
corrOut_T1T3_y2021m12d17h05m11s44_m22samp.txt
corrOut_T1T4_y2021m12d17h05m11s47_m25samp.txt
corrOut_T2T3_y2021m12d17h05m11s42_m34samp.txt
corrOut_T2T4_y2021m12d17h05m11s42_m32samp.txt
corrOut_T4T3_y2021m12d17h05m11s47_p2samp.txt
corrOut_T1T2_y2022m02d11h19m37s43_p23samp.txt
corrOut_T1T3_y2022m02d11h19m37s44_m16samp.txt
corrOut_T1T4_y2022m02d11h19m37s46_m8samp.txt
corrOut_T2T4_y2022m02d11h19m37s46_m31samp.txt
corrOut_T4T3_y2022m02d11h19m37s46_m7samp.txt
corrOut_T1T2_y2022m02d11h20m59s22_p22samp.txt
corrOut_T1T3_y2022m02d11h20m59s23_m15samp.txt
corrOut_T1T4_y2022m02d11h20m59s25_m9samp.txt
corrOut_T2T4_y2022m02d11h20m59s25_m30samp.txt
corrOut_T4T3_y2022m02d11h20m59s25_m6samp.txt
corrOut_T1T2_y2022m02d11h23m02s03_p18samp.txt
corrOut_T1T3_y2022m02d11h23m02s06_m17samp.txt
corrOut_T1T4_y2022m02d11h23m02s09_m14samp.txt
corrOut_T2T4_y2022m02d11h23m02s09_m32samp.txt
corrOut_T4T3_y2022m02d11h23m02s09_m3samp.txt
corrOut_T1T2_y2022m02d12h01m03s05_p13samp.txt
corrOut_T1T3_y2022m02d12h01m03s07_m21samp.txt
corrOut_T1T4_y2022m02d12h01m03s11_m23samp.txt
corrOut_T2T4_y2022m02d12h01m03s11_m35samp.txt
corrOut_T4T3_y2022m02d12h01m03s11_m6samp.txt
corrOut_T1T2_y2022m02d12h03m06s16_p7samp.txt
corrOut_T1T3_y2022m02d12h03m06s18_m28samp.txt
corrOut_T1T4_y2022m02d12h03m06s21_m33samp.txt
corrOut_T2T4_y2022m02d12h03m06s21_m40samp.txt
corrOut_T4T3_y2022m02d12h03m06s21_p5samp.txt
corrOut_T1T2_y2022m02d13h19m25s36_p23samp.txt
corrOut_T1T3_y2022m02d13h19m25s38_m16samp.txt
corrOut_T1T4_y2022m02d13h19m25s40_m8samp.txt
corrOut_T2T4_y2022m02d13h19m25s40_m31samp.txt
corrOut_T4T3_y2022m02d13h19m25s40_m7samp.txt
corrOut_T1T2_y2022m02d13h21m06s31_p21samp.txt
corrOut_T1T3_y2022m02d13h21m06s33_m15samp.txt
corrOut_T1T4_y2022m02d13h21m06s36_m9samp.txt
corrOut_T2T4_y2022m02d13h21m06s36_m30samp.txt
corrOut_T4T3_y2022m02d13h21m06s36_m6samp.txt
corrOut_T1T2_y2022m02d13h23m07s52_p17samp.txt
corrOut_T1T3_y2022m02d14h01m08s57_m22samp.txt
corrOut_T1T4_y2022m02d13h23m07s49_m15samp.txt
corrOut_T2T4_y2022m02d13h23m07s52_m32samp.txt
corrOut_T4T3_y2022m02d13h23m07s51_m2samp.txt
corrOut_T1T2_y2022m02d14h01m08s55_p12samp.txt
corrOut_T1T3_y2022m02d14h01m08s57_m22samp.txt
corrOut_T1T4_y2022m02d14h01m08s58_m24samp.txt
corrOut_T2T4_y2022m02d14h01m08s58_m36samp.txt
corrOut_T4T3_y2022m02d14h01m08s58_p2samp.txt
corrOut_T1T2_y2022m02d14h03m39s24_p5samp.txt
corrOut_T1T3_y2022m02d14h03m39s26_m30samp.txt
corrOut_T1T4_y2022m02d14h03m39s28_m37samp.txt
corrOut_T2T4_y2022m02d14h03m39s28_m42samp.txt
corrOut_T4T3_y2022m02d14h03m39s28_p6samp.txt
corrOut_T1T2_y2022m03d12h22m58s46_p13samp.txt
corrOut_T1T3_y2022m03d12h22m58s48_m21samp.txt
corrOut_T1T4_y2022m03d12h22m58s52_m22samp.txt
corrOut_T2T3_y2022m03d12h22m58s48_m34samp.txt
corrOut_T2T4_y2022m03d12h22m58s52_m35samp.txt
corrOut_T4T3_y2022m03d12h22m58s52_p1samp.txt
corrOut_T1T2_y2022m03d13h01m03s27_p7samp.txt
corrOut_T1T3_y2022m03d13h01m03s42_m27samp.txt
corrOut_T1T4_y2022m03d13h01m03s54_m33samp.txt
corrOut_T2T3_y2022m03d13h01m03s42_m35samp.txt
corrOut_T2T4_y2022m03d13h01m03s54_m40samp.txt
corrOut_T4T3_y2022m03d13h01m03s54_p5samp.txt
corrOut_T1T2_y2022m05d10h21m03s23_p8samp.txt
corrOut_T1T3_y2022m05d10h21m03s24_m27samp.txt
corrOut_T1T4_y2022m05d10h21m03s28_m32samp.txt
corrOut_T2T3_y2022m05d10h21m03s24_m35samp.txt)

n=0
for i in ${index_array[@]}
do
    cd $i 
    echo $n
    cp ../../../../SII_Analysis/ObtainingVisibilities/ConvertNolanFrames/ConvertNolanFrames.cpp .
    g++ `root-config --cflags` -o ConvertNolanFrames.exe ConvertNolanFrames.cpp `root-config --libs`
    ./ConvertNolanFrames.exe ${file_array[n]}
    n=$((n+1))
    cd ~/betUMaReproduce/
done


